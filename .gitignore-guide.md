# .gitignore Guide

This document explains what's being ignored in the repository and why.

## Overview

The `.gitignore` file contains best practice patterns for:
- Python projects (FastAPI agent service)
- Node.js/TypeScript projects (MCP servers)
- Container development (Podman)
- Kubernetes deployments
- AWS development with SSO
- Multiple IDEs and editors
- Multiple operating systems

## What's Ignored

### üîê Secrets & Credentials (CRITICAL)

**Never committed:**
- `.env` and all `.env.*` files - Contains AWS credentials
- `.aws/` directory - AWS configuration and SSO sessions
- `*.pem`, `*.key`, `*.crt` - Private keys and certificates
- `id_rsa*` - SSH keys
- `**credentials`, `**config` - Any credentials files

**Why:** Prevents accidental credential leaks that could compromise your AWS account.

### üì¶ Dependencies

**Never committed:**
- `node_modules/` - Node.js dependencies (can be 100s of MB)
- `venv/`, `env/`, `.venv/` - Python virtual environments
- `__pycache__/` - Python bytecode cache
- `*.egg-info/` - Python package metadata

**Why:** These are regenerated from `package.json` and `requirements.txt`. Committing them bloats the repository.

### üèóÔ∏è Build Artifacts

**Never committed:**
- `dist/`, `build/`, `out/` - Compiled output
- `*.pyc`, `*.pyo` - Python bytecode
- `*.tsbuildinfo` - TypeScript build info

**Why:** These are generated from source code. Keep only source in git.

### üß™ Testing & Coverage

**Never committed:**
- `coverage/`, `htmlcov/` - Coverage reports
- `.pytest_cache/`, `.nyc_output/` - Test caches
- `test-results/`, `test-output/` - Test artifacts

**Why:** Generated during testing. Can be recreated anytime.

### üîß IDE & Editor Files

**Never committed:**
- `.vscode/`, `.idea/` - IDE settings (personal preferences)
- `*.swp`, `*.swo` - Vim swap files
- `.DS_Store` - macOS folder attributes
- `Thumbs.db` - Windows thumbnail cache

**Why:** These are personal to each developer's environment.

### üìù Logs & Temporary Files

**Never committed:**
- `*.log`, `logs/` - Application logs
- `tmp/`, `temp/` - Temporary directories
- `*.bak`, `*.backup` - Backup files

**Why:** Logs are runtime artifacts and backups clutter the repository.

### üê≥ Container Files

**Never committed:**
- `docker-compose.yml` - We use Podman, not Docker
- `volumes/`, `data/` - Container volumes

**Exceptions (committed):**
- `podman-compose.yml` ‚úÖ
- `podman-compose-sso.yml` ‚úÖ

**Why:** We want Podman configuration tracked, but not Docker.

### üéØ Workspace Data

**Never committed:**
- `workspace/*` - MCP filesystem server workspace

**Exception:**
- `workspace/.gitkeep` ‚úÖ - Ensures directory exists

**Why:** This is where the MCP filesystem server stores user files. Each user's workspace is unique.

## What IS Committed

‚úÖ **Source Code:**
- `*.py` - Python source
- `*.ts` - TypeScript source
- `Dockerfile` - Container definitions

‚úÖ **Configuration:**
- `podman-compose.yml` - Container orchestration
- `k8s/*.yaml` - Kubernetes manifests
- `Makefile` - Build automation

‚úÖ **Documentation:**
- `*.md` - Markdown documentation
- `README.md` - Project documentation

‚úÖ **Scripts:**
- `*.sh` - Shell scripts

‚úÖ **Dependencies:**
- `requirements.txt` - Python dependencies
- `package.json` - Node.js dependencies

‚úÖ **Examples:**
- `.env.example` - Template for environment variables

## Security Best Practices

### ‚úÖ DO

1. **Always use `.env.example`** for templates
2. **Never commit actual credentials**
3. **Review files before committing:**
   ```bash
   git status
   git diff
   ```
4. **Use `git add` selectively:**
   ```bash
   git add specific-file.py
   ```
   Not:
   ```bash
   git add .  # Be careful with this!
   ```

### ‚ùå DON'T

1. **Don't commit `.env` files**
2. **Don't commit AWS credentials**
3. **Don't commit private keys**
4. **Don't commit node_modules/**
5. **Don't commit personal IDE settings**

## Checking What's Ignored

### See what would be committed:
```bash
git status
```

### See all files (including ignored):
```bash
git status --ignored
```

### Check if a file is ignored:
```bash
git check-ignore -v filename
```

### See what's tracked:
```bash
git ls-files
```

## Common Scenarios

### "I accidentally committed .env"

```bash
# Remove from git but keep local file
git rm --cached .env

# Commit the removal
git commit -m "Remove .env from git"

# Push
git push
```

### "I want to commit a file that's being ignored"

```bash
# Force add specific file
git add -f path/to/file

# Or remove from .gitignore if it should be tracked
```

### "I want to ignore additional files"

Add to `.gitignore`:
```bash
echo "myfile.txt" >> .gitignore
git add .gitignore
git commit -m "Ignore myfile.txt"
```

## Platform-Specific Notes

### macOS
- `.DS_Store` files are automatically ignored
- Spotlight and Time Machine files ignored

### Windows
- `Thumbs.db` and other Windows metadata ignored
- Line endings handled by git configuration

### Linux
- `.directory` files ignored
- Trash files ignored

## IDE-Specific Notes

### VSCode
- `.vscode/` directory ignored
- Use workspace settings instead of project settings

### JetBrains (PyCharm, WebStorm, IntelliJ)
- `.idea/` directory ignored
- Commit `.idea/` if team uses same IDE (optional)

### Vim
- All swap and backup files ignored

## Container Development Notes

### What's tracked:
- ‚úÖ `podman-compose.yml` - Container orchestration
- ‚úÖ `Dockerfile` - Build instructions
- ‚úÖ `k8s/*.yaml` - Kubernetes manifests

### What's ignored:
- ‚ùå `docker-compose.yml` - We use Podman
- ‚ùå Build caches
- ‚ùå Container volumes

## Verification Checklist

Before committing, verify:

- [ ] No `.env` files
- [ ] No `node_modules/`
- [ ] No `venv/` or `__pycache__/`
- [ ] No AWS credentials
- [ ] No private keys
- [ ] No personal IDE settings
- [ ] No logs
- [ ] No build artifacts

## Testing Your .gitignore

```bash
# Create a test file that should be ignored
touch .env

# Check if it shows up in git status
git status

# Should NOT show .env (it's ignored)

# Verify it's ignored
git check-ignore -v .env
# Should output: .gitignore:197:.env .env

# Clean up
rm .env
```

## Updating .gitignore

When adding new patterns:

```bash
# Edit .gitignore
nano .gitignore

# Add the pattern

# Commit
git add .gitignore
git commit -m "Add pattern for X to .gitignore"
```

## References

This `.gitignore` is based on:
- [gitignore.io](https://gitignore.io) - Python, Node, macOS, Linux, Windows
- [GitHub's gitignore templates](https://github.com/github/gitignore)
- Best practices for AWS/Bedrock development
- Podman/container development patterns

## Need Help?

If you're unsure whether a file should be committed:

1. Check this guide
2. Ask yourself: "Can this be regenerated?"
   - If yes ‚Üí probably should be ignored
   - If no ‚Üí probably should be committed
3. Ask yourself: "Does this contain secrets?"
   - If yes ‚Üí MUST be ignored
   - If no ‚Üí safe to commit (if it's source code)

## Summary

**Golden Rules:**
1. ‚úÖ Commit source code, configuration templates, documentation
2. ‚ùå Never commit secrets, credentials, API keys
3. ‚ùå Never commit dependencies, build artifacts, generated files
4. ‚ùå Never commit personal IDE settings, OS metadata
5. ‚úÖ When in doubt, don't commit it - ask first!
